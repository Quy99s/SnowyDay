{"version":3,"sources":["file:///Users/backup/SnowyDay/SnowyDay/assets/Script/MainGameControler.ts"],"names":["Component","_decorator","Node","UITransform","ccclass","property","MainGameControler","onLoad","panel","active","update","deltaTime","isInGameArea","player","getPosition","pos","szBg","gameArea","getComponent","contentSize","x","width","y","height"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,S,OAAAA,S;AAAWC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,W,OAAAA,W;;;;;;;AAE9BC,MAAAA,O,GAAsBH,U,CAAtBG,O;AAASC,MAAAA,Q,GAAaJ,U,CAAbI,Q;;mCAGJC,iB,WADZF,OAAO,CAAC,mBAAD,C,UAGHC,QAAQ,CAACH,IAAD,C,UAGRG,QAAQ,CAACH,IAAD,C,UAGRG,QAAQ,CAACH,IAAD,C;;;;;;;;;;;;;;;;;;;;;;;eAGTK,M,GAAA,kBAAS;AACL,eAAKC,KAAL,CAAWC,MAAX,GAAoB,KAApB;AACH,S;;eAEDC,M,GAAA,gBAAOC,SAAP,EAA0B;AACtB,cAAI,CAAC,KAAKC,YAAL,CAAkB,KAAKC,MAAL,CAAYC,WAAZ,EAAlB,CAAL,EAAmD;AAC/C,iBAAKN,KAAL,CAAWC,MAAX,GAAoB,IAApB;AACH;AACJ,S;;eAEDG,Y,GAAA,sBAAaG,GAAb,EAAuB;AACnB,cAAIC,IAAI,GAAG,KAAKC,QAAL,CAAcC,YAAd,CAA2Bf,WAA3B,EAAwCgB,WAAnD;;AACA,cAAIJ,GAAG,CAACK,CAAJ,IAAS,CAACJ,IAAI,CAACK,KAAN,GAAc,CAA3B,EAA8B;AAC1B,mBAAO,KAAP;AACH;;AACD,cAAIN,GAAG,CAACK,CAAJ,IAASJ,IAAI,CAACK,KAAL,GAAa,CAA1B,EAA6B;AACzB,mBAAO,KAAP;AACH;;AACD,cAAIN,GAAG,CAACO,CAAJ,IAAS,CAACN,IAAI,CAACO,MAAN,GAAe,CAA5B,EAA+B;AAC3B,mBAAO,KAAP;AACH;;AACD,cAAIR,GAAG,CAACO,CAAJ,IAASN,IAAI,CAACO,MAAL,GAAc,CAA3B,EAA8B;AAC1B,mBAAO,KAAP;AACH;;AACD,iBAAO,IAAP;AACH,S;;;QApCkCvB,S","sourcesContent":["import { Component, _decorator, Node, UITransform } from \"cc\";\n\nconst { ccclass, property } = _decorator;\n\n@ccclass('MainGameControler')\nexport class MainGameControler extends Component {\n\n    @property(Node)\n    gameArea: Node;\n\n    @property(Node)\n    player: Node;\n\n    @property(Node)\n    panel: Node;\n\n    onLoad() {\n        this.panel.active = false;\n    }\n\n    update(deltaTime: number) {\n        if (!this.isInGameArea(this.player.getPosition())) {\n            this.panel.active = true;\n        }\n    }\n\n    isInGameArea(pos: any) {\n        let szBg = this.gameArea.getComponent(UITransform).contentSize;\n        if (pos.x <= -szBg.width / 2) {\n            return false;\n        }\n        if (pos.x >= szBg.width / 2) {\n            return false;\n        }\n        if (pos.y <= -szBg.height / 2) {\n            return false;\n        }\n        if (pos.y >= szBg.height / 2) {\n            return false;\n        }\n        return true;\n    }\n}\n\n\n"]}